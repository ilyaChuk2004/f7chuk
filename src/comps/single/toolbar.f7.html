<template>
  ${!$store.state.appData.desktop ?  $h`
    <div class="toolbar toolbar-bottom">
      <div class="toolbar-inner">
          <q-contactsBtn 
            style="color: rgba(255, 255, 255, 0.767);position: relative;transform: none !important;width: 2.4rem;height: 2.4rem;font-size: 13pt;">
          </q-contactsBtn>
        <a class="home link back"></a>
        <div @click=${()=>{likeLogic(props.id, props.likes)}} class="like">${likes}</div>
      </div>
    </div>
    `:$h`
    <div></div>
    `
  }
</template>
<script>
  import {likeLogic} from './likeLogic.js'
  export default (props, {$store, $f7, $update, $onMounted}) => {
    let likes = props.likes
    $f7.on('e-liked', (li)=>{
      likes=li
      $update()
    })

    $onMounted(()=>{
      if ($store.state.gf.getCookie(`m-like-${props.id}`)!==undefined && $store.state.gf.getCookie(`m-like-${props.id}`)!=='0') {
      document.querySelector('.like').style.animation='like 0.5s ease forwards'
    }
    })
    return $render;
  }
</script>