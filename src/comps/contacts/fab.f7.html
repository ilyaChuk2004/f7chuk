<template>
  <div @click=${hide} class="fab fab-right-bottom ripple-color-black contactsBtn">
    <a class="no-active-state ripple overflow-hidden" href="#">
      я
    </a>
    <!-- Speed Dial action buttons -->
    <div class="fab-buttons fab-buttons-top">
      ${$store.state.data.contacts.map((item) => $h`
        <a href='${item.href}' class="fab-label-button external" target="blank">
          <!-- original button content -->
          <span
            style='background-image: url(/static/img/${item.img}); width: 100%; height: 100%; background-size: cover;' 
            class='ripple overflow-hidden'></span>
          <!-- button label -->
          <span style="pointer-events: all;" class="fab-label ripple overflow-hidden">${item.disc}</span>
        </a>
      `)}
    </div>
  </div>
</template>
<style>
  .contactsBtn > a{
    width: 100%;
    height: 100%;
    border-radius: 1000px;
  }

  .contactsBtn {
    border-radius: 1000px;
  }
</style>
<script>
  export default (props, {$f7}) => {
    let toolt
    setTimeout(() => {
      toolt = $f7.tooltip.create({
        targetEl:'.contactsBtn',
        text:'ссылки на меня',
        offset:0,
        on: {
          show: function (e) {
            if (e.targetEl.className.indexOf('fab-opened')!==-1) {
              setTimeout(() => {
                toolt.hide()
              }, 1);
            }
          }
  }
      })
    }, 100);

    function hide() {
      toolt.hide()
    }
    return $render;
  }
</script>